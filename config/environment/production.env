# AI Content Factory - Production Environment Configuration
# ‚ö†Ô∏è  CRITICAL: This file contains sensitive production secrets
# üîí Store securely and never commit to version control
# üöÄ Use environment variable injection in production

# ========================
# Environment Settings
# ========================
NODE_ENV=production
APP_ENV=production
DEBUG=false
VERBOSE_LOGGING=false

# ========================
# Application Settings
# ========================
APP_NAME="AI Content Factory"
APP_VERSION=1.0.0
APP_URL=https://aicontentfactory.com
API_BASE_URL=https://api.aicontentfactory.com
WEB_DASHBOARD_URL=https://dashboard.aicontentfactory.com

# Server Configuration
PORT=5000
HOST=0.0.0.0
CORS_ORIGIN=https://aicontentfactory.com,https://dashboard.aicontentfactory.com

# Load balancer settings
TRUST_PROXY=true
PROXY_COUNT=1

# ========================
# Database Configuration
# ========================
# PostgreSQL Database (Production cluster)
DATABASE_URL=${PROD_DATABASE_URL}
DB_HOST=${PROD_DB_HOST}
DB_PORT=5432
DB_NAME=ai_content_factory
DB_USER=${PROD_DB_USER}
DB_PASSWORD=${PROD_DB_PASSWORD}
DB_SSL=require
DB_POOL_MIN=10
DB_POOL_MAX=50
DB_TIMEOUT=30000
DB_CONNECTION_LIMIT=100

# Read replicas for scaling
DB_READ_HOST=${PROD_DB_READ_HOST}
DB_READ_POOL_MAX=30

# Redis Cache (Production cluster)
REDIS_URL=${PROD_REDIS_URL}
REDIS_HOST=${PROD_REDIS_HOST}
REDIS_PORT=6379
REDIS_PASSWORD=${PROD_REDIS_PASSWORD}
REDIS_DB=0
REDIS_TLS=true
REDIS_CLUSTER=true

# ========================
# AI Services Configuration
# ========================
# Default Quality Tier (premium for production)
DEFAULT_QUALITY_TIER=premium

# Text AI Services (Production keys with higher limits)
GROQ_API_KEY=${PROD_GROQ_API_KEY}
GROQ_MODEL=llama3-70b-8192
GROQ_MAX_TOKENS=4096
GROQ_RATE_LIMIT=100

OPENAI_API_KEY=${PROD_OPENAI_API_KEY}
OPENAI_MODEL=gpt-4-turbo
OPENAI_MAX_TOKENS=4096
OPENAI_ORGANIZATION=${PROD_OPENAI_ORG}

CLAUDE_API_KEY=${PROD_CLAUDE_API_KEY}
CLAUDE_MODEL=claude-3-opus-20240229
CLAUDE_MAX_TOKENS=4096

# Image AI Services (Production accounts)
STABILITY_API_KEY=${PROD_STABILITY_API_KEY}
LEONARDO_API_KEY=${PROD_LEONARDO_API_KEY}
MIDJOURNEY_API_KEY=${PROD_MIDJOURNEY_API_KEY}

# Audio/TTS Services (Production tier)
ELEVENLABS_API_KEY=${PROD_ELEVENLABS_API_KEY}
AZURE_SPEECH_KEY=${PROD_AZURE_SPEECH_KEY}
AZURE_SPEECH_REGION=eastus

# ========================
# Platform Integration (Production Apps)
# ========================
# YouTube API (Verified production app)
YOUTUBE_API_KEY=${PROD_YOUTUBE_API_KEY}
YOUTUBE_CLIENT_ID=${PROD_YOUTUBE_CLIENT_ID}
YOUTUBE_CLIENT_SECRET=${PROD_YOUTUBE_CLIENT_SECRET}
YOUTUBE_REDIRECT_URI=https://api.aicontentfactory.com/auth/youtube/callback

# TikTok API (Production approved)
TIKTOK_CLIENT_KEY=${PROD_TIKTOK_CLIENT_KEY}
TIKTOK_CLIENT_SECRET=${PROD_TIKTOK_CLIENT_SECRET}
TIKTOK_REDIRECT_URI=https://api.aicontentfactory.com/auth/tiktok/callback

# Instagram Basic Display API (Production app)
INSTAGRAM_CLIENT_ID=${PROD_INSTAGRAM_CLIENT_ID}
INSTAGRAM_CLIENT_SECRET=${PROD_INSTAGRAM_CLIENT_SECRET}
INSTAGRAM_REDIRECT_URI=https://api.aicontentfactory.com/auth/instagram/callback

# Facebook Graph API (Production app)
FACEBOOK_APP_ID=${PROD_FACEBOOK_APP_ID}
FACEBOOK_APP_SECRET=${PROD_FACEBOOK_APP_SECRET}
FACEBOOK_REDIRECT_URI=https://api.aicontentfactory.com/auth/facebook/callback

# Twitter API v2 (Production access)
TWITTER_CLIENT_ID=${PROD_TWITTER_CLIENT_ID}
TWITTER_CLIENT_SECRET=${PROD_TWITTER_CLIENT_SECRET}
TWITTER_BEARER_TOKEN=${PROD_TWITTER_BEARER_TOKEN}

# ========================
# Trend Collection Sources
# ========================
# Google Trends (Production quota)
GOOGLE_TRENDS_API_KEY=${PROD_GOOGLE_TRENDS_API_KEY}

# Reddit API (Production app)
REDDIT_CLIENT_ID=${PROD_REDDIT_CLIENT_ID}
REDDIT_CLIENT_SECRET=${PROD_REDDIT_CLIENT_SECRET}
REDDIT_USER_AGENT=ai-content-factory:v1.0.0

# ========================
# File Storage (Production CDN)
# ========================
# AWS S3 with CloudFront
STORAGE_TYPE=s3
AWS_ACCESS_KEY_ID=${PROD_AWS_ACCESS_KEY_ID}
AWS_SECRET_ACCESS_KEY=${PROD_AWS_SECRET_ACCESS_KEY}
AWS_REGION=us-east-1
AWS_S3_BUCKET=ai-content-factory-prod
AWS_CLOUDFRONT_DOMAIN=${PROD_CLOUDFRONT_DOMAIN}

# Upload limits (production values)
MAX_FILE_SIZE=200MB
ALLOWED_FILE_TYPES=jpg,jpeg,png,gif,webp,mp4,mov,avi,mp3,wav,aac

# ========================
# Security Settings (Maximum Security)
# ========================
# JWT Settings (Production secrets)
JWT_SECRET=${PROD_JWT_SECRET}
JWT_EXPIRES_IN=4h
JWT_REFRESH_EXPIRES_IN=7d
JWT_ALGORITHM=RS256
JWT_PUBLIC_KEY=${PROD_JWT_PUBLIC_KEY}
JWT_PRIVATE_KEY=${PROD_JWT_PRIVATE_KEY}

# Session Settings (Secure)
SESSION_SECRET=${PROD_SESSION_SECRET}
SESSION_MAX_AGE=14400000
SESSION_SECURE=true
SESSION_SAME_SITE=strict
SESSION_HTTP_ONLY=true

# Rate Limiting (Strict for production)
RATE_LIMIT_WINDOW=15
RATE_LIMIT_MAX_REQUESTS=100
RATE_LIMIT_SKIP_SUCCESSFUL=true
RATE_LIMIT_HEADERS=true

# CORS Settings (Strict)
CORS_CREDENTIALS=true
CORS_METHODS=GET,POST,PUT,DELETE,PATCH
CORS_HEADERS=Content-Type,Authorization
CORS_MAX_AGE=86400

# ========================
# SSL/HTTPS Configuration
# ========================
HTTPS_ENABLED=true
SSL_CERT_PATH=${PROD_SSL_CERT_PATH}
SSL_KEY_PATH=${PROD_SSL_KEY_PATH}
FORCE_HTTPS=true
HSTS_MAX_AGE=31536000

# ========================
# Email Configuration (Production SMTP)
# ========================
# Production email service (SendGrid/AWS SES)
SMTP_HOST=${PROD_SMTP_HOST}
SMTP_PORT=587
SMTP_USER=${PROD_SMTP_USER}
SMTP_PASSWORD=${PROD_SMTP_PASSWORD}
SMTP_FROM=noreply@aicontentfactory.com
SMTP_TLS=true
EMAIL_ENABLED=true

# Email Templates
EMAIL_TEMPLATE_PATH=/app/templates/email
ADMIN_EMAIL=admin@aicontentfactory.com
SUPPORT_EMAIL=support@aicontentfactory.com

# Email rate limiting
EMAIL_RATE_LIMIT=100
EMAIL_BATCH_SIZE=50

# ========================
# Monitoring & Analytics (Full Production)
# ========================
# Error Tracking (Sentry Production)
SENTRY_DSN=${PROD_SENTRY_DSN}
SENTRY_ENVIRONMENT=production
SENTRY_ENABLED=true
SENTRY_SAMPLE_RATE=0.1
SENTRY_TRACES_SAMPLE_RATE=0.01
SENTRY_PROFILES_SAMPLE_RATE=0.01

# Analytics (Production tracking)
GOOGLE_ANALYTICS_ID=${PROD_GA_ID}
MIXPANEL_TOKEN=${PROD_MIXPANEL_TOKEN}

# APM (Application Performance Monitoring)
NEW_RELIC_LICENSE_KEY=${PROD_NEW_RELIC_KEY}
DATADOG_API_KEY=${PROD_DATADOG_API_KEY}

# Monitoring (Full stack)
PROMETHEUS_ENABLED=true
PROMETHEUS_PORT=9090
GRAFANA_ENABLED=true
GRAFANA_ADMIN_PASSWORD=${PROD_GRAFANA_PASSWORD}
HEALTH_CHECK_INTERVAL=10

# ========================
# N8N Workflow Configuration (Production)
# ========================
N8N_HOST=${PROD_N8N_HOST}
N8N_PORT=443
N8N_PROTOCOL=https
N8N_WEBHOOK_URL=https://workflows.aicontentfactory.com/webhook
N8N_BASIC_AUTH_ACTIVE=false
N8N_JWT_AUTH_ACTIVE=true
N8N_JWT_AUTH_HEADER=Authorization
N8N_ENCRYPTION_KEY=${PROD_N8N_ENCRYPTION_KEY}

# N8N Production Database
N8N_DB_TYPE=postgresdb
N8N_DB_POSTGRESDB_HOST=${PROD_DB_HOST}
N8N_DB_POSTGRESDB_PORT=5432
N8N_DB_POSTGRESDB_DATABASE=n8n_production
N8N_DB_POSTGRESDB_USER=${PROD_N8N_DB_USER}
N8N_DB_POSTGRESDB_PASSWORD=${PROD_N8N_DB_PASSWORD}
N8N_DB_POSTGRESDB_SSL_ENABLED=true

# ========================
# Performance Settings (High Performance)
# ========================
# Cache TTL (optimized for production)
CACHE_TTL=3600
CACHE_ENABLED=true
CACHE_COMPRESSION=true
CACHE_CLUSTER_ENABLED=true

# Background job processing (Scaled)
QUEUE_ENABLED=true
QUEUE_CONCURRENCY=20
QUEUE_MAX_ATTEMPTS=5
QUEUE_BACKOFF_DELAY=2000
QUEUE_RETRY_DELAY=5000

# Content generation limits (Production scale)
MAX_CONCURRENT_GENERATIONS=50
CONTENT_TIMEOUT=300000
AI_REQUEST_TIMEOUT=60000
AI_RETRY_ATTEMPTS=3

# Database connection pooling (Production scale)
DB_MAX_CONNECTIONS=100
DB_MIN_CONNECTIONS=20
DB_IDLE_TIMEOUT=600000
DB_ACQUIRE_TIMEOUT=60000

# ========================
# Auto-scaling Configuration
# ========================
# Kubernetes/Docker scaling
MIN_REPLICAS=3
MAX_REPLICAS=20
TARGET_CPU_UTILIZATION=70
TARGET_MEMORY_UTILIZATION=80

# Resource limits
MAX_MEMORY_USAGE=4GB
MAX_CPU_USAGE=2000m
SCALE_UP_THRESHOLD=75
SCALE_DOWN_THRESHOLD=25

# Health checks
HEALTH_CHECK_ENDPOINT=/health
HEALTH_CHECK_TIMEOUT=5
READY_CHECK_ENDPOINT=/ready
LIVENESS_CHECK_ENDPOINT=/live

# ========================
# Feature Flags (Production Ready)
# ========================
FEATURE_TREND_ANALYSIS=true
FEATURE_CONTENT_GENERATION=true
FEATURE_PLATFORM_UPLOAD=true
FEATURE_ANALYTICS=true
FEATURE_NOTIFICATIONS=true
FEATURE_ADVANCED_AI=true
FEATURE_A_B_TESTING=true
FEATURE_REAL_TIME_UPDATES=true
FEATURE_PREMIUM_FEATURES=true

# ========================
# Logging Configuration (Production)
# ========================
LOG_LEVEL=warn
LOG_FORMAT=json
LOG_FILE=/var/log/ai-content-factory/production.log
LOG_MAX_SIZE=100MB
LOG_MAX_FILES=30
LOG_COMPRESS=true
LOG_ROTATE_DAILY=true

# Structured logging
LOG_INCLUDE_TIMESTAMP=true
LOG_INCLUDE_LEVEL=true
LOG_INCLUDE_REQUEST_ID=true
LOG_INCLUDE_USER_ID=true
LOG_EXCLUDE_SENSITIVE=true

# Database query logging (Minimal for production)
DB_LOGGING=false
DB_LOG_QUERIES=false
DB_LOG_SLOW_QUERIES=true
DB_SLOW_QUERY_THRESHOLD=5000

# External logging (ELK Stack/CloudWatch)
LOG_SHIPPER_ENABLED=true
LOG_SHIPPER_HOST=${PROD_LOG_SHIPPER_HOST}
LOG_SHIPPER_PORT=5044

# ========================
# Backup & Disaster Recovery
# ========================
# Automated backups
BACKUP_ENABLED=true
BACKUP_SCHEDULE="0 2 * * *"
BACKUP_RETENTION_DAYS=90
BACKUP_S3_BUCKET=ai-content-factory-backups
BACKUP_ENCRYPTION=true
BACKUP_COMPRESSION=true

# Database backup (Daily + Point-in-time)
DB_BACKUP_ENABLED=true
DB_BACKUP_SCHEDULE="0 1 * * *"
DB_BACKUP_COMPRESSION=true
DB_POINT_IN_TIME_RECOVERY=true
DB_BACKUP_RETENTION=30

# Cross-region backup
CROSS_REGION_BACKUP=true
BACKUP_REGION=us-west-2

# Disaster recovery
DR_ENABLED=true
RTO_MINUTES=60
RPO_MINUTES=15

# ========================
# Security & Compliance
# ========================
# WAF (Web Application Firewall)
WAF_ENABLED=true
DDOS_PROTECTION=true

# Security headers
HELMET_ENABLED=true
CONTENT_SECURITY_POLICY=true
HSTS_ENABLED=true
HSTS_PRELOAD=true
REFERRER_POLICY=strict-origin-when-cross-origin
PERMISSIONS_POLICY=true

# Data encryption
DATA_ENCRYPTION_AT_REST=true
DATA_ENCRYPTION_IN_TRANSIT=true
ENCRYPTION_KEY=${PROD_ENCRYPTION_KEY}

# GDPR/Privacy compliance
GDPR_ENABLED=true
DATA_RETENTION_DAYS=365
COOKIE_CONSENT_REQUIRED=true
PRIVACY_POLICY_VERSION=2.0

# Audit logging
AUDIT_LOG_ENABLED=true
AUDIT_LOG_RETENTION=2555
COMPLIANCE_MONITORING=true

# ========================
# Payment & Billing
# ========================
# Stripe (Production)
STRIPE_PUBLISHABLE_KEY=${PROD_STRIPE_PUBLISHABLE_KEY}
STRIPE_SECRET_KEY=${PROD_STRIPE_SECRET_KEY}
STRIPE_WEBHOOK_SECRET=${PROD_STRIPE_WEBHOOK_SECRET}
STRIPE_CURRENCY=THB

# Billing settings
BILLING_ENABLED=true
SUBSCRIPTION_WEBHOOK=${PROD_BILLING_WEBHOOK}
INVOICE_EMAIL=billing@aicontentfactory.com

# ========================
# CDN & Performance
# ========================
# CloudFlare
CLOUDFLARE_ZONE_ID=${PROD_CLOUDFLARE_ZONE_ID}
CLOUDFLARE_API_TOKEN=${PROD_CLOUDFLARE_TOKEN}
CDN_ENABLED=true
EDGE_CACHING=true

# Performance optimization
GZIP_COMPRESSION=true
BROTLI_COMPRESSION=true
STATIC_CACHE_DURATION=31536000
API_CACHE_DURATION=300

# ========================
# Third-party Integrations
# ========================
# Customer support
INTERCOM_APP_ID=${PROD_INTERCOM_APP_ID}
ZENDESK_DOMAIN=${PROD_ZENDESK_DOMAIN}
ZENDESK_API_TOKEN=${PROD_ZENDESK_TOKEN}

# Marketing
MAILCHIMP_API_KEY=${PROD_MAILCHIMP_API_KEY}
HUBSPOT_API_KEY=${PROD_HUBSPOT_API_KEY}

# Webhooks (Production endpoints)
WEBHOOK_SECRET=${PROD_WEBHOOK_SECRET}
WEBHOOK_TIMEOUT=30000
WEBHOOK_RETRY_ATTEMPTS=5
WEBHOOK_SIGNING_SECRET=${PROD_WEBHOOK_SIGNING_SECRET}

# External API settings
EXTERNAL_API_TIMEOUT=30000
EXTERNAL_API_RETRY_ATTEMPTS=3
EXTERNAL_API_RETRY_DELAY=2000
EXTERNAL_API_CIRCUIT_BREAKER=true

# ========================
# Localization & Regionalization
# ========================
DEFAULT_LANGUAGE=th
SUPPORTED_LANGUAGES=th,en,ja,ko
TIMEZONE=Asia/Bangkok
CURRENCY=THB
REGION=APAC

# Language detection
AUTO_DETECT_LANGUAGE=true
FALLBACK_LANGUAGE=en

# ========================
# Content Delivery
# ========================
# Multi-region content delivery
MULTI_REGION_ENABLED=true
PRIMARY_REGION=ap-southeast-1
SECONDARY_REGIONS=us-east-1,eu-west-1

# Content optimization
IMAGE_OPTIMIZATION=true
VIDEO_TRANSCODING=true
CONTENT_COMPRESSION=true

# ========================
# API Gateway & Rate Limiting
# ========================
# Production API limits
API_RATE_LIMIT_TIER_1=1000  # Basic users
API_RATE_LIMIT_TIER_2=5000  # Premium users
API_RATE_LIMIT_TIER_3=10000 # Enterprise users

# API versioning
API_VERSION=v1
API_DEPRECATION_WARNINGS=true

# ========================
# Notification Services
# ========================
# Push notifications
FIREBASE_SERVER_KEY=${PROD_FIREBASE_SERVER_KEY}
PUSH_NOTIFICATIONS_ENABLED=true

# SMS notifications
TWILIO_ACCOUNT_SID=${PROD_TWILIO_ACCOUNT_SID}
TWILIO_AUTH_TOKEN=${PROD_TWILIO_AUTH_TOKEN}
SMS_ENABLED=true

# Slack integration
SLACK_WEBHOOK_URL=${PROD_SLACK_WEBHOOK}
SLACK_ALERTS_ENABLED=true

# ========================
# Machine Learning & AI Optimization
# ========================
# ML model settings
ML_MODEL_CACHING=true
ML_PREDICTION_TIMEOUT=10000
ML_BATCH_SIZE=32

# A/B Testing
AB_TESTING_ENABLED=true
AB_TESTING_FRAMEWORK=optimizely
OPTIMIZELY_SDK_KEY=${PROD_OPTIMIZELY_SDK_KEY}

# ========================
# Maintenance & Updates
# ========================
# Zero-downtime deployments
ROLLING_DEPLOYMENT=true
CANARY_DEPLOYMENT=true
BLUE_GREEN_DEPLOYMENT=false

# Maintenance windows
MAINTENANCE_MODE=false
MAINTENANCE_MESSAGE="Scheduled maintenance"
MAINTENANCE_ALLOWED_IPS=${PROD_ADMIN_IPS}

# Auto-updates
AUTO_SECURITY_UPDATES=true
DEPENDENCY_UPDATES=false

# ========================
# Business Intelligence
# ========================
# Data warehouse
DATA_WAREHOUSE_ENABLED=true
DATA_WAREHOUSE_HOST=${PROD_DW_HOST}
ETL_SCHEDULE="0 4 * * *"

# Business metrics
REVENUE_TRACKING=true
USER_ANALYTICS=true
CONTENT_PERFORMANCE_TRACKING=true

# ========================
# Legal & Compliance
# ========================
# Terms of service
TOS_VERSION=3.0
PRIVACY_POLICY_VERSION=2.1
COOKIE_POLICY_VERSION=1.2

# Age verification
AGE_VERIFICATION_REQUIRED=false
MINIMUM_AGE=13

# Content moderation
CONTENT_MODERATION=true
ADULT_CONTENT_FILTER=true
SPAM_DETECTION=true

# ========================
# Environment Validation
# ========================
# Critical validation
VALIDATE_ENV_ON_START=true
FAIL_ON_MISSING_ENV=true
PRODUCTION_ENV_CHECK=true

# Security validation
VALIDATE_SSL_CERTS=true
VALIDATE_SECRETS_STRENGTH=true
CHECK_SECURITY_HEADERS=true

# ========================
# Container & Orchestration
# ========================
# Docker settings
DOCKER_IMAGE_TAG=${PROD_DOCKER_TAG}
CONTAINER_MEMORY_LIMIT=4Gi
CONTAINER_CPU_LIMIT=2
RESTART_POLICY=always

# Kubernetes settings
NAMESPACE=ai-content-factory-prod
CLUSTER_NAME=prod-cluster
SERVICE_MESH_ENABLED=true

# ========================
# Final Production Notes
# ========================
# üîê ALL SECRETS MUST BE INJECTED VIA SECURE METHODS
# üìä MONITOR ALL METRICS CONTINUOUSLY
# üö® SET UP ALERTING FOR ALL CRITICAL PATHS
# üíæ VERIFY BACKUP AND RECOVERY PROCEDURES
# üîç ENABLE COMPREHENSIVE LOGGING AND MONITORING
# üõ°Ô∏è  CONDUCT REGULAR SECURITY AUDITS
# üìà OPTIMIZE PERFORMANCE CONTINUOUSLY
# üåê TEST DISASTER RECOVERY PROCEDURES